---
import '../styles/table-of-contents.css'
---

<aside class="toc"></aside>

<script>
  import tocbot from 'tocbot'

  document.addEventListener('astro:page-load', () => {
    if (location.pathname.includes('blog') && document.querySelector('.toc')) {
      tocbot.init({
        tocSelector: '.toc',
        contentSelector: '#article',
        activeLinkClass: 'is-active-link',
        listClass: 'toc-list',
        linkClass: 'toc-link',
        headingSelector: 'h2, h3',
        headingsOffset: 30,
        scrollSmoothOffset: -30,
      })
    }
  })
</script>
